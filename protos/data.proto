syntax = "proto3";

package proto;

option go_package = "gen/protos/data";

service TunnelData {
  rpc ForwardData (stream DataPacket) returns (stream DataPacket);
}

enum PacketType {
  REQUEST = 0;
  RESPONSE = 1;
  KEEPALIVE = 2;
}

message DataPacket {
  string tunnel_id = 1;
  bytes data = 2;
  int32 status = 3;
  map<string, string> headers = 4;
  string url = 5; // Already present in client code
  string method = 6; // Already present in client code
  PacketType type = 7; // New field
}